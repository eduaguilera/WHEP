% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/input_files.R
\name{whep_read_file}
\alias{whep_read_file}
\title{Download, cache and read files}
\usage{
whep_read_file(file_alias, type = "parquet", version = NULL)
}
\arguments{
\item{file_alias}{Alias of the requested file. For now the possible
values are:
\itemize{
\item \code{"commodity_balance_sheet"}: Intended for \code{get_wide_cbs()}.
\item \code{"bilateral_trade"}: Intended for \code{get_bilateral_trade()}.
\item \code{"processing_coefs"}: Intended for \code{get_processing_coefs()}.
\item \code{"feed_intake"}: Intended for \code{get_feed_intake()}.
\item \code{"primary_prod"}: Intended for \code{get_primary_production()}.
\item \code{"crop_residues"}: Intended for \code{get_primary_residues()}.
}}

\item{type}{The extension of the file that must be read. Possible values:
\itemize{
\item \code{parquet}: This is the default value for code efficiency reasons.
\item \code{csv}: Mainly available for those who want a more human-readable option.
If the \code{parquet} version is available, this is useless because this
function already returns the dataset in an \code{R} object, so the origin is
irrelevant, and \code{parquet} is read faster.
}

Saving each file in both formats is for transparency and accessibility
purposes, e.g., having to share the data with non-programmers who can
easily import a CSV into a spreadsheet. You will most likely never have
to set this option manually unless for some reason a file could not be
supplied in e.g. \code{parquet} format but was in another one.}

\item{version}{The version of the file that must be read. Possible values:
\itemize{
\item \code{NULL}: This is the default value. A frozen version is chosen to make
the code reproducible. Each release will have its own frozen versions.
The version is the string that can be found in
\code{inst/extdata/input/raw/input_files.csv} in the \code{version} column.
\item \code{"latest"}: This overrides the frozen version and instead fetches the
latest one that is available. This might or might not match the frozen
version.
\item Other: A specific version can also be used. You can search through
the available files in the public URLs given in the \code{board_url} column
in \code{inst/extdata/input/raw/input_files.csv} and find the file you're
interested in. Each file has one subfolder for each version. The folder
name is the version you must specify, which should look similar to
\code{"20250714T123343Z-114b5"}.
}}
}
\value{
A character vector with the path where the requested file is
located.
}
\description{
Used to fetch input files that are needed for the package's functions
and that were built in external sources and are too large to include
directly. This is a public function for transparency purposes, so that
users can inspect the original inputs of this package that were not
directly processed here.

If the requested file doesn't exist locally, it is downloaded from a public
link and cached before reading it. This is all implemented using the
\href{https://pins.rstudio.com/index.html}{\code{pins}} package. It supports multiple
file formats and file versioning.
}
\examples{
\dontrun{
whep_read_file("processing_coefs")
whep_read_file("crop_residues", type = "parquet", version = "latest")
whep_read_file(
  "commodity_balance_sheet",
  type = "csv",
  version = "20250714T123343Z-114b5"
)
}
}
